import { ComponentPreview, PropsTable, CodeBlock } from '@/docs/components'
import { Accordion, AccordionItem, AccordionTrigger, AccordionContent } from '@radenadri/void-ui'

# Accordion

A vertically stacked set of interactive headings that each reveal a section of content.

## Preview

<ComponentPreview
  code={`import { Accordion, AccordionItem, AccordionTrigger, AccordionContent } from '@radenadri/void-ui';

export default function AccordionDemo() {
  return (
    <Accordion className="w-full max-w-md">
      <AccordionItem value="item-1">
        <AccordionTrigger>Is it accessible?</AccordionTrigger>
        <AccordionContent>
          Yes. It adheres to the WAI-ARIA design pattern.
        </AccordionContent>
      </AccordionItem>
      <AccordionItem value="item-2">
        <AccordionTrigger>Is it styled?</AccordionTrigger>
        <AccordionContent>
          Yes. It comes with default styles that match the Void UI design system.
        </AccordionContent>
      </AccordionItem>
      <AccordionItem value="item-3">
        <AccordionTrigger>Is it animated?</AccordionTrigger>
        <AccordionContent>
          Yes. It's animated by default with smooth expand/collapse transitions.
        </AccordionContent>
      </AccordionItem>
    </Accordion>
  );
}`}
>
  <Accordion className="w-full max-w-md">
    <AccordionItem value="item-1">
      <AccordionTrigger>Is it accessible?</AccordionTrigger>
      <AccordionContent>
        Yes. It adheres to the WAI-ARIA design pattern.
      </AccordionContent>
    </AccordionItem>
    <AccordionItem value="item-2">
      <AccordionTrigger>Is it styled?</AccordionTrigger>
      <AccordionContent>
        Yes. It comes with default styles that match the Void UI design system.
      </AccordionContent>
    </AccordionItem>
    <AccordionItem value="item-3">
      <AccordionTrigger>Is it animated?</AccordionTrigger>
      <AccordionContent>
        Yes. It's animated by default with smooth expand/collapse transitions.
      </AccordionContent>
    </AccordionItem>
  </Accordion>
</ComponentPreview>

## Installation

<CodeBlock
  code={`import { Accordion, AccordionItem, AccordionTrigger, AccordionContent } from '@radenadri/void-ui';`}
  language="tsx"
/>

## Usage

### Basic Usage

The Accordion component consists of multiple parts:

- `Accordion` - The root container
- `AccordionItem` - Individual accordion item wrapper
- `AccordionTrigger` - The clickable header that toggles content
- `AccordionContent` - The collapsible content panel

<CodeBlock
  code={`<Accordion>
  <AccordionItem value="item-1">
    <AccordionTrigger>Section 1</AccordionTrigger>
    <AccordionContent>
      Content for section 1
    </AccordionContent>
  </AccordionItem>
  <AccordionItem value="item-2">
    <AccordionTrigger>Section 2</AccordionTrigger>
    <AccordionContent>
      Content for section 2
    </AccordionContent>
  </AccordionItem>
</Accordion>`}
  language="tsx"
/>

### Default Open Item

Use the `defaultValue` prop to specify which item should be open by default:

<CodeBlock
  code={`<Accordion defaultValue="item-2">
  <AccordionItem value="item-1">
    <AccordionTrigger>Section 1</AccordionTrigger>
    <AccordionContent>Content 1</AccordionContent>
  </AccordionItem>
  <AccordionItem value="item-2">
    <AccordionTrigger>Section 2 (Default Open)</AccordionTrigger>
    <AccordionContent>Content 2</AccordionContent>
  </AccordionItem>
</Accordion>`}
  language="tsx"
/>

### Controlled State

For controlled usage, use the `value` and `onValueChange` props:

<CodeBlock
  code={`import { useState } from 'react';

function ControlledAccordion() {
  const [value, setValue] = useState<string | null>('item-1');

  return (
    <Accordion value={value} onValueChange={setValue}>
      <AccordionItem value="item-1">
        <AccordionTrigger>Section 1</AccordionTrigger>
        <AccordionContent>Content 1</AccordionContent>
      </AccordionItem>
      <AccordionItem value="item-2">
        <AccordionTrigger>Section 2</AccordionTrigger>
        <AccordionContent>Content 2</AccordionContent>
      </AccordionItem>
    </Accordion>
  );
}`}
  language="tsx"
/>

### Disabled Items

Disable specific items using the `disabled` prop on `AccordionItem`:

<ComponentPreview
  code={`<Accordion className="w-full max-w-md">
  <AccordionItem value="item-1">
    <AccordionTrigger>Enabled Item</AccordionTrigger>
    <AccordionContent>This item can be toggled.</AccordionContent>
  </AccordionItem>
  <AccordionItem value="item-2" disabled>
    <AccordionTrigger>Disabled Item</AccordionTrigger>
    <AccordionContent>This content is not accessible.</AccordionContent>
  </AccordionItem>
</Accordion>`}
>
  <Accordion className="w-full max-w-md">
    <AccordionItem value="item-1">
      <AccordionTrigger>Enabled Item</AccordionTrigger>
      <AccordionContent>This item can be toggled.</AccordionContent>
    </AccordionItem>
    <AccordionItem value="item-2" disabled>
      <AccordionTrigger>Disabled Item</AccordionTrigger>
      <AccordionContent>This content is not accessible.</AccordionContent>
    </AccordionItem>
  </Accordion>
</ComponentPreview>

## API Reference

### Accordion

The root component that wraps all accordion items.

<PropsTable
  props={[
    {
      name: 'defaultValue',
      type: 'string',
      description: 'The value of the item to expand by default (uncontrolled).',
    },
    {
      name: 'value',
      type: 'string | null',
      description: 'The controlled value of the expanded item.',
    },
    {
      name: 'onValueChange',
      type: '(value: string | null) => void',
      description: 'Callback fired when the expanded item changes.',
    },
    {
      name: 'disabled',
      type: 'boolean',
      default: 'false',
      description: 'When true, prevents all items from being expanded.',
    },
    {
      name: 'className',
      type: 'string',
      description: 'Additional CSS classes to apply.',
    },
  ]}
/>

### AccordionItem

Wraps a single accordion item (trigger + content).

<PropsTable
  props={[
    {
      name: 'value',
      type: 'string',
      required: true,
      description: 'A unique value for the accordion item.',
    },
    {
      name: 'disabled',
      type: 'boolean',
      default: 'false',
      description: 'When true, prevents the item from being expanded.',
    },
    {
      name: 'className',
      type: 'string',
      description: 'Additional CSS classes to apply.',
    },
  ]}
/>

### AccordionTrigger

The button that toggles the accordion content.

<PropsTable
  props={[
    {
      name: 'children',
      type: 'ReactNode',
      required: true,
      description: 'The content of the trigger button.',
    },
    {
      name: 'className',
      type: 'string',
      description: 'Additional CSS classes to apply.',
    },
  ]}
/>

### AccordionContent

The collapsible content panel.

<PropsTable
  props={[
    {
      name: 'children',
      type: 'ReactNode',
      required: true,
      description: 'The content to display when expanded.',
    },
    {
      name: 'className',
      type: 'string',
      description: 'Additional CSS classes to apply.',
    },
  ]}
/>

## Accessibility

The Accordion component follows the [WAI-ARIA Accordion Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/):

- **Keyboard Navigation**
  - `Enter` or `Space` - Toggles the focused accordion item
  - `Tab` - Moves focus to the next focusable element
  - `Shift + Tab` - Moves focus to the previous focusable element
  - `Arrow Down` - Moves focus to the next accordion trigger
  - `Arrow Up` - Moves focus to the previous accordion trigger
  - `Home` - Moves focus to the first accordion trigger
  - `End` - Moves focus to the last accordion trigger

- **ARIA Attributes**
  - Each trigger has `aria-expanded` indicating the expanded state
  - Each trigger has `aria-controls` pointing to its content panel
  - Each content panel has `aria-labelledby` pointing to its trigger
  - Content panels have `role="region"`
